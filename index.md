---
layout: page
---

# Bass Accompaniment Generation via Latent Diffusion

**Abstract**  
The ability to automatically generate music that appropriately matches an arbitrary input track is a challenging task. We present a novel controllable system for generating single stems to accompany input musical mixes of any length. At the core of our method are audio autoencoders that efficiently compress audio waveform samples into invertible latent representations, and a conditional latent diffusion model that takes as input the latent encoding of a mix and generates the latent encoding of a corresponding stem. To provide control over the timbre of generated samples, we introduce a technique to ground the latent space to a user-provided reference style during diffusion sampling. For further improving audio quality, we adapt classifier-free guidance to avoid distortions at high guidance strengths when generating an unbounded latent space. We train our model on a dataset of pairs of mixes and matching bass stems. Quantitative experiments demonstrate that, given an input mix, the proposed system can generate basslines with user-specified timbres. Our controllable conditional audio generation framework represents an important advance for creating generative AI tools to assist musicians in music production.


## Examples

We showcase basslines generated by our system using mixes from MUSDB18. We randomly mix 1 to 3 stems (Drums, Vocals, Misc) for each track and use the resulting mixes as input conditioning for our system. All samples are converted to MP3.

## Style Grounding

We generate samples using a randomly cropped ~23 second bass sample from MUSDB18 as the style reference using the proposed grounding technique. The input mix and the style bass sample do not belong to the same original MUSDB18 track.

<style>
  table {
    width: 100%;
    border-collapse: collapse;
  }

  th, td {
    width: 25%;
    text-align: center;
    padding: 8px;
    border: 1px solid #ddd;
  }
</style>


<table>
  <thead>
    <tr>
      <th>Bass Style Sample</th>
      <th>Generated Bass in Mix</th>
      <th>Generated Bass</th>
      <th>Input Mix</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><audio src="ground/0/ground.mp3" controls></audio></td>
      <td><audio src="ground/0/mix_gen_ground.mp3" controls></audio></td>
      <td><audio src="ground/0/bass_gen_ground.mp3" controls></audio></td>
      <td><audio src="ground/0/mix_input.mp3" controls></audio></td>
    </tr>
    <tr>
      <td><audio src="ground/1/ground.mp3" controls></audio></td>
      <td><audio src="ground/1/mix_gen_ground.mp3" controls></audio></td>
      <td><audio src="ground/1/bass_gen_ground.mp3" controls></audio></td>
      <td><audio src="ground/1/mix_input.mp3" controls></audio></td>
    </tr>
    <tr>
      <td><audio src="ground/3/ground.mp3" controls></audio></td>
      <td><audio src="ground/3/mix_gen_ground.mp3" controls></audio></td>
      <td><audio src="ground/3/bass_gen_ground.mp3" controls></audio></td>
      <td><audio src="ground/3/mix_input.mp3" controls></audio></td>
    </tr>
    <tr>
      <td><audio src="ground/9/ground.mp3" controls></audio></td>
      <td><audio src="ground/9/mix_gen_ground.mp3" controls></audio></td>
      <td><audio src="ground/9/bass_gen_ground.mp3" controls></audio></td>
      <td><audio src="ground/9/mix_input.mp3" controls></audio></td>
    </tr>
    <tr>
      <td><audio src="ground/4/ground.mp3" controls></audio></td>
      <td><audio src="ground/4/mix_gen_ground.mp3" controls></audio></td>
      <td><audio src="ground/4/bass_gen_ground.mp3" controls></audio></td>
      <td><audio src="ground/4/mix_input.mp3" controls></audio></td>
    </tr>
    <tr>
      <td><audio src="ground/5/ground.mp3" controls></audio></td>
      <td><audio src="ground/5/mix_gen_ground.mp3" controls></audio></td>
      <td><audio src="ground/5/bass_gen_ground.mp3" controls></audio></td>
      <td><audio src="ground/5/mix_input.mp3" controls></audio></td>
    </tr>
    <tr>
      <td><audio src="ground/6/ground.mp3" controls></audio></td>
      <td><audio src="ground/6/mix_gen_ground.mp3" controls></audio></td>
      <td><audio src="ground/6/bass_gen_ground.mp3" controls></audio></td>
      <td><audio src="ground/6/mix_input.mp3" controls></audio></td>
    </tr>
    <tr>
      <td><audio src="ground/8/ground.mp3" controls></audio></td>
      <td><audio src="ground/8/mix_gen_ground.mp3" controls></audio></td>
      <td><audio src="ground/8/bass_gen_ground.mp3" controls></audio></td>
      <td><audio src="ground/8/mix_input.mp3" controls></audio></td>
    </tr>
    <tr>
      <td><audio src="ground/2/ground.mp3" controls></audio></td>
      <td><audio src="ground/2/mix_gen_ground.mp3" controls></audio></td>
      <td><audio src="ground/2/bass_gen_ground.mp3" controls></audio></td>
      <td><audio src="ground/2/mix_input.mp3" controls></audio></td>
    </tr>
    <tr>
      <td><audio src="ground/7/ground.mp3" controls></audio></td>
      <td><audio src="ground/7/mix_gen_ground.mp3" controls></audio></td>
      <td><audio src="ground/7/bass_gen_ground.mp3" controls></audio></td>
      <td><audio src="ground/7/mix_input.mp3" controls></audio></td>
    </tr>
  </tbody>
</table>



## No Grounding
In the following examples, the system is not grounded to any specific style.

<table>
  <thead>
    <tr>
      <th>Generated Bass in Mix</th>
      <th>Generated Bass</th>
      <th>Input Mix</th>
      <th>Original Bass in Mix</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><audio src="short/5/mix_gen.mp3" controls></audio></td>
      <td><audio src="short/5/bass_gen.mp3" controls></audio></td>
      <td><audio src="short/5/mix_input.mp3" controls></audio></td>
      <td><audio src="short/5/mix_true.mp3" controls></audio></td>
    </tr>
    <tr>
      <td><audio src="short/7/mix_gen.mp3" controls></audio></td>
      <td><audio src="short/7/bass_gen.mp3" controls></audio></td>
      <td><audio src="short/7/mix_input.mp3" controls></audio></td>
      <td><audio src="short/7/mix_true.mp3" controls></audio></td>
    </tr>
    <tr>
      <td><audio src="short/2/mix_gen.mp3" controls></audio></td>
      <td><audio src="short/2/bass_gen.mp3" controls></audio></td>
      <td><audio src="short/2/mix_input.mp3" controls></audio></td>
      <td><audio src="short/2/mix_true.mp3" controls></audio></td>
    </tr>
    <tr>
      <td><audio src="short/4/mix_gen.mp3" controls></audio></td>
      <td><audio src="short/4/bass_gen.mp3" controls></audio></td>
      <td><audio src="short/4/mix_input.mp3" controls></audio></td>
      <td><audio src="short/4/mix_true.mp3" controls></audio></td>
    </tr>
    <tr>
      <td><audio src="short/0/mix_gen.mp3" controls></audio></td>
      <td><audio src="short/0/bass_gen.mp3" controls></audio></td>
      <td><audio src="short/0/mix_input.mp3" controls></audio></td>
      <td><audio src="short/0/mix_true.mp3" controls></audio></td>
    </tr>
    <tr>
      <td><audio src="short/1/mix_gen.mp3" controls></audio></td>
      <td><audio src="short/1/bass_gen.mp3" controls></audio></td>
      <td><audio src="short/1/mix_input.mp3" controls></audio></td>
      <td><audio src="short/1/mix_true.mp3" controls></audio></td>
    </tr>
    <tr>
      <td><audio src="short/3/mix_gen.mp3" controls></audio></td>
      <td><audio src="short/3/bass_gen.mp3" controls></audio></td>
      <td><audio src="short/3/mix_input.mp3" controls></audio></td>
      <td><audio src="short/3/mix_true.mp3" controls></audio></td>
    </tr>
    <tr>
      <td><audio src="short/6/mix_gen.mp3" controls></audio></td>
      <td><audio src="short/6/bass_gen.mp3" controls></audio></td>
      <td><audio src="short/6/mix_input.mp3" controls></audio></td>
      <td><audio src="short/6/mix_true.mp3" controls></audio></td>
    </tr>
    <tr>
      <td><audio src="short/8/mix_gen.mp3" controls></audio></td>
      <td><audio src="short/8/bass_gen.mp3" controls></audio></td>
      <td><audio src="short/8/mix_input.mp3" controls></audio></td>
      <td><audio src="short/8/mix_true.mp3" controls></audio></td>
    </tr>
    <tr>
      <td><audio src="short/9/mix_gen.mp3" controls></audio></td>
      <td><audio src="short/9/bass_gen.mp3" controls></audio></td>
      <td><audio src="short/9/mix_input.mp3" controls></audio></td>
      <td><audio src="short/9/mix_true.mp3" controls></audio></td>
    </tr>
  </tbody>
</table>


## Longer Generated Basslines

We showcase basslines generated by our system using input mixes with a different (longer) length to the samples used during training. Thanks to a modified attention mechanism, the system generates coherent samples even when mixes with different length are used as input.


<table>
  <thead>
    <tr>
      <th>Generated Bass in Mix</th>
      <th>Generated Bass</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><audio src="whole/0/mix_gen.mp3" controls></audio></td>
      <td><audio src="whole/0/bass_gen.mp3" controls></audio></td>
    </tr>
    <tr>
      <td><audio src="whole/1/mix_gen.mp3" controls></audio></td>
      <td><audio src="whole/1/bass_gen.mp3" controls></audio></td>
    </tr>
    <tr>
      <td><audio src="whole/3/mix_gen.mp3" controls></audio></td>
      <td><audio src="whole/3/bass_gen.mp3" controls></audio></td>
    </tr>
    <tr>
      <td><audio src="whole/4/mix_gen.mp3" controls></audio></td>
      <td><audio src="whole/4/bass_gen.mp3" controls></audio></td>
    </tr>
    <tr>
      <td><audio src="whole/5/mix_gen.mp3" controls></audio></td>
      <td><audio src="whole/5/bass_gen.mp3" controls></audio></td>
    </tr>
    <tr>
      <td><audio src="whole/2/mix_gen.mp3" controls></audio></td>
      <td><audio src="whole/2/bass_gen.mp3" controls></audio></td>
    </tr>
    <tr>
      <td><audio src="whole/6/mix_gen.mp3" controls></audio></td>
      <td><audio src="whole/6/bass_gen.mp3" controls></audio></td>
    </tr>
  </tbody>
</table>
